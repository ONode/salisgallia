/**
 * Created by hesk on 16年10月13日.
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="lbServices"),function(a,b,c){"use strict";function f(a){var b=a.match(/^(?:https?:)?\/\/([^\/]+)/);return b?b[1]:null}var d="/api",e="authorization",g=f(d)||location.host,h=b.module("lbServices",["ngResource"]);h.factory("User",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/users/:id",{id:"@id"},{prototype$__findById__accessTokens:{params:{fk:"@fk"},url:d+"/users/:id/accessTokens/:fk",method:"GET"},prototype$__destroyById__accessTokens:{params:{fk:"@fk"},url:d+"/users/:id/accessTokens/:fk",method:"DELETE"},prototype$__updateById__accessTokens:{params:{fk:"@fk"},url:d+"/users/:id/accessTokens/:fk",method:"PUT"},prototype$__findById__basemaps:{params:{fk:"@fk"},url:d+"/users/:id/basemaps/:fk",method:"GET"},prototype$__destroyById__basemaps:{params:{fk:"@fk"},url:d+"/users/:id/basemaps/:fk",method:"DELETE"},prototype$__updateById__basemaps:{params:{fk:"@fk"},url:d+"/users/:id/basemaps/:fk",method:"PUT"},prototype$__get__accessTokens:{isArray:!0,url:d+"/users/:id/accessTokens",method:"GET"},prototype$__create__accessTokens:{url:d+"/users/:id/accessTokens",method:"POST"},prototype$__delete__accessTokens:{url:d+"/users/:id/accessTokens",method:"DELETE"},prototype$__count__accessTokens:{url:d+"/users/:id/accessTokens/count",method:"GET"},prototype$__get__basemaps:{isArray:!0,url:d+"/users/:id/basemaps",method:"GET"},prototype$__create__basemaps:{url:d+"/users/:id/basemaps",method:"POST"},prototype$__delete__basemaps:{url:d+"/users/:id/basemaps",method:"DELETE"},prototype$__count__basemaps:{url:d+"/users/:id/basemaps/count",method:"GET"},create:{url:d+"/users",method:"POST"},createMany:{isArray:!0,url:d+"/users",method:"POST"},upsert:{url:d+"/users",method:"PUT"},replaceOrCreate:{url:d+"/users/replaceOrCreate",method:"POST"},upsertWithWhere:{url:d+"/users/upsertWithWhere",method:"POST"},exists:{url:d+"/users/:id/exists",method:"GET"},findById:{url:d+"/users/:id",method:"GET"},replaceById:{url:d+"/users/:id/replace",method:"POST"},find:{isArray:!0,url:d+"/users",method:"GET"},findOne:{url:d+"/users/findOne",method:"GET"},updateAll:{url:d+"/users/update",method:"POST"},deleteById:{url:d+"/users/:id",method:"DELETE"},count:{url:d+"/users/count",method:"GET"},prototype$updateAttributes:{url:d+"/users/:id",method:"PUT"},createChangeStream:{url:d+"/users/change-stream",method:"POST"},login:{params:{include:"user"},interceptor:{response:function(a){var c=a.data;return b.setUser(c.id,c.userId,c.user),b.rememberMe=a.config.params.rememberMe!==!1,b.save(),a.resource}},url:d+"/users/login",method:"POST"},logout:{interceptor:{response:function(a){return b.clearUser(),b.clearStorage(),a.resource},responseError:function(a){return b.clearUser(),b.clearStorage(),a.resource}},url:d+"/users/logout",method:"POST"},confirm:{url:d+"/users/confirm",method:"GET"},resetPassword:{url:d+"/users/reset",method:"POST"},prototype$requestCode:{url:d+"/users/:id/requestCode",method:"POST"},prototype$loginWithCode:{url:d+"/users/:id/loginWithCode",method:"POST"},email_verify_from_code:{url:d+"/users/reset_code_verify",method:"POST"},email_verify:{url:d+"/users/reset_login_pass",method:"POST"},fb_login_call:{url:d+"/users/login_facebook",method:"POST"},most_popular:{url:d+"/users/most_popular",method:"GET"},update_meta_call:{url:d+"/users/:id/insertimagemeta",method:"POST"},"::get::Basemap::user":{url:d+"/Basemaps/:id/user",method:"GET"},getCurrent:{url:d+"/users/:id",method:"GET",params:{id:function(){var a=b.currentUserId;return null==a&&(a="__anonymous__"),a}},interceptor:{response:function(a){return b.currentUserData=a.data,a.resource}},__isGetCurrentUser__:!0}});return e.patchOrCreate=e.upsert,e.updateOrCreate=e.upsert,e.patchOrCreateWithWhere=e.upsertWithWhere,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.patchAttributes=e.prototype$updateAttributes,e.getCachedCurrent=function(){var a=b.currentUserData;return a?new e(a):null},e.isAuthenticated=function(){return null!=this.getCurrentId()},e.getCurrentId=function(){return b.currentUserId},e.modelName="User",e.basemaps=function(){var a=c.get("Basemap"),b=a["::get::User::basemaps"];return b.apply(e,arguments)},e.basemaps.count=function(){var a=c.get("Basemap"),b=a["::count::User::basemaps"];return b.apply(e,arguments)},e.basemaps.create=function(){var a=c.get("Basemap"),b=a["::create::User::basemaps"];return b.apply(e,arguments)},e.basemaps.createMany=function(){var a=c.get("Basemap"),b=a["::createMany::User::basemaps"];return b.apply(e,arguments)},e.basemaps.destroyAll=function(){var a=c.get("Basemap"),b=a["::delete::User::basemaps"];return b.apply(e,arguments)},e.basemaps.destroyById=function(){var a=c.get("Basemap"),b=a["::destroyById::User::basemaps"];return b.apply(e,arguments)},e.basemaps.findById=function(){var a=c.get("Basemap"),b=a["::findById::User::basemaps"];return b.apply(e,arguments)},e.basemaps.updateById=function(){var a=c.get("Basemap"),b=a["::updateById::User::basemaps"];return b.apply(e,arguments)},e}]),h.factory("CoffeeShop",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/CoffeeShops/:id",{id:"@id"},{prototype$__findById__reviews:{params:{fk:"@fk"},url:d+"/CoffeeShops/:id/reviews/:fk",method:"GET"},prototype$__destroyById__reviews:{params:{fk:"@fk"},url:d+"/CoffeeShops/:id/reviews/:fk",method:"DELETE"},prototype$__updateById__reviews:{params:{fk:"@fk"},url:d+"/CoffeeShops/:id/reviews/:fk",method:"PUT"},prototype$__findById__reviewers:{params:{fk:"@fk"},url:d+"/CoffeeShops/:id/reviewers/:fk",method:"GET"},prototype$__destroyById__reviewers:{params:{fk:"@fk"},url:d+"/CoffeeShops/:id/reviewers/:fk",method:"DELETE"},prototype$__updateById__reviewers:{params:{fk:"@fk"},url:d+"/CoffeeShops/:id/reviewers/:fk",method:"PUT"},prototype$__get__reviews:{isArray:!0,url:d+"/CoffeeShops/:id/reviews",method:"GET"},prototype$__create__reviews:{url:d+"/CoffeeShops/:id/reviews",method:"POST"},prototype$__delete__reviews:{url:d+"/CoffeeShops/:id/reviews",method:"DELETE"},prototype$__count__reviews:{url:d+"/CoffeeShops/:id/reviews/count",method:"GET"},prototype$__get__reviewers:{isArray:!0,url:d+"/CoffeeShops/:id/reviewers",method:"GET"},prototype$__create__reviewers:{url:d+"/CoffeeShops/:id/reviewers",method:"POST"},prototype$__delete__reviewers:{url:d+"/CoffeeShops/:id/reviewers",method:"DELETE"},prototype$__count__reviewers:{url:d+"/CoffeeShops/:id/reviewers/count",method:"GET"},create:{url:d+"/CoffeeShops",method:"POST"},createMany:{isArray:!0,url:d+"/CoffeeShops",method:"POST"},upsert:{url:d+"/CoffeeShops",method:"PUT"},replaceOrCreate:{url:d+"/CoffeeShops/replaceOrCreate",method:"POST"},upsertWithWhere:{url:d+"/CoffeeShops/upsertWithWhere",method:"POST"},exists:{url:d+"/CoffeeShops/:id/exists",method:"GET"},findById:{url:d+"/CoffeeShops/:id",method:"GET"},replaceById:{url:d+"/CoffeeShops/:id/replace",method:"POST"},find:{isArray:!0,url:d+"/CoffeeShops",method:"GET"},findOne:{url:d+"/CoffeeShops/findOne",method:"GET"},updateAll:{url:d+"/CoffeeShops/update",method:"POST"},deleteById:{url:d+"/CoffeeShops/:id",method:"DELETE"},count:{url:d+"/CoffeeShops/count",method:"GET"},prototype$updateAttributes:{url:d+"/CoffeeShops/:id",method:"PUT"},createChangeStream:{url:d+"/CoffeeShops/change-stream",method:"POST"},status:{url:d+"/CoffeeShops/status",method:"GET"},"::get::Review::coffeeShop":{url:d+"/Reviews/:id/coffeeShop",method:"GET"}});return e.patchOrCreate=e.upsert,e.updateOrCreate=e.upsert,e.patchOrCreateWithWhere=e.upsertWithWhere,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.patchAttributes=e.prototype$updateAttributes,e.modelName="CoffeeShop",e.reviews=function(){var a=c.get("Review"),b=a["::get::CoffeeShop::reviews"];return b.apply(e,arguments)},e.reviews.count=function(){var a=c.get("Review"),b=a["::count::CoffeeShop::reviews"];return b.apply(e,arguments)},e.reviews.create=function(){var a=c.get("Review"),b=a["::create::CoffeeShop::reviews"];return b.apply(e,arguments)},e.reviews.createMany=function(){var a=c.get("Review"),b=a["::createMany::CoffeeShop::reviews"];return b.apply(e,arguments)},e.reviews.destroyAll=function(){var a=c.get("Review"),b=a["::delete::CoffeeShop::reviews"];return b.apply(e,arguments)},e.reviews.destroyById=function(){var a=c.get("Review"),b=a["::destroyById::CoffeeShop::reviews"];return b.apply(e,arguments)},e.reviews.findById=function(){var a=c.get("Review"),b=a["::findById::CoffeeShop::reviews"];return b.apply(e,arguments)},e.reviews.updateById=function(){var a=c.get("Review"),b=a["::updateById::CoffeeShop::reviews"];return b.apply(e,arguments)},e.reviewers=function(){var a=c.get("Reviewer"),b=a["::get::CoffeeShop::reviewers"];return b.apply(e,arguments)},e.reviewers.count=function(){var a=c.get("Reviewer"),b=a["::count::CoffeeShop::reviewers"];return b.apply(e,arguments)},e.reviewers.create=function(){var a=c.get("Reviewer"),b=a["::create::CoffeeShop::reviewers"];return b.apply(e,arguments)},e.reviewers.createMany=function(){var a=c.get("Reviewer"),b=a["::createMany::CoffeeShop::reviewers"];return b.apply(e,arguments)},e.reviewers.destroyAll=function(){var a=c.get("Reviewer"),b=a["::delete::CoffeeShop::reviewers"];return b.apply(e,arguments)},e.reviewers.destroyById=function(){var a=c.get("Reviewer"),b=a["::destroyById::CoffeeShop::reviewers"];return b.apply(e,arguments)},e.reviewers.findById=function(){var a=c.get("Reviewer"),b=a["::findById::CoffeeShop::reviewers"];return b.apply(e,arguments)},e.reviewers.updateById=function(){var a=c.get("Reviewer"),b=a["::updateById::CoffeeShop::reviewers"];return b.apply(e,arguments)},e}]),h.factory("Review",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/Reviews/:id",{id:"@id"},{prototype$__get__coffeeShop:{url:d+"/Reviews/:id/coffeeShop",method:"GET"},prototype$__get__reviewer:{url:d+"/Reviews/:id/reviewer",method:"GET"},create:{url:d+"/Reviews",method:"POST"},createMany:{isArray:!0,url:d+"/Reviews",method:"POST"},upsert:{url:d+"/Reviews",method:"PUT"},replaceOrCreate:{url:d+"/Reviews/replaceOrCreate",method:"POST"},upsertWithWhere:{url:d+"/Reviews/upsertWithWhere",method:"POST"},exists:{url:d+"/Reviews/:id/exists",method:"GET"},findById:{url:d+"/Reviews/:id",method:"GET"},replaceById:{url:d+"/Reviews/:id/replace",method:"POST"},find:{isArray:!0,url:d+"/Reviews",method:"GET"},findOne:{url:d+"/Reviews/findOne",method:"GET"},updateAll:{url:d+"/Reviews/update",method:"POST"},deleteById:{url:d+"/Reviews/:id",method:"DELETE"},count:{url:d+"/Reviews/count",method:"GET"},prototype$updateAttributes:{url:d+"/Reviews/:id",method:"PUT"},createChangeStream:{url:d+"/Reviews/change-stream",method:"POST"},"::findById::CoffeeShop::reviews":{params:{fk:"@fk"},url:d+"/CoffeeShops/:id/reviews/:fk",method:"GET"},"::destroyById::CoffeeShop::reviews":{params:{fk:"@fk"},url:d+"/CoffeeShops/:id/reviews/:fk",method:"DELETE"},"::updateById::CoffeeShop::reviews":{params:{fk:"@fk"},url:d+"/CoffeeShops/:id/reviews/:fk",method:"PUT"},"::get::CoffeeShop::reviews":{isArray:!0,url:d+"/CoffeeShops/:id/reviews",method:"GET"},"::create::CoffeeShop::reviews":{url:d+"/CoffeeShops/:id/reviews",method:"POST"},"::createMany::CoffeeShop::reviews":{isArray:!0,url:d+"/CoffeeShops/:id/reviews",method:"POST"},"::delete::CoffeeShop::reviews":{url:d+"/CoffeeShops/:id/reviews",method:"DELETE"},"::count::CoffeeShop::reviews":{url:d+"/CoffeeShops/:id/reviews/count",method:"GET"},"::findById::Reviewer::reviews":{params:{fk:"@fk"},url:d+"/Reviewers/:id/reviews/:fk",method:"GET"},"::destroyById::Reviewer::reviews":{params:{fk:"@fk"},url:d+"/Reviewers/:id/reviews/:fk",method:"DELETE"},"::updateById::Reviewer::reviews":{params:{fk:"@fk"},url:d+"/Reviewers/:id/reviews/:fk",method:"PUT"},"::get::Reviewer::reviews":{isArray:!0,url:d+"/Reviewers/:id/reviews",method:"GET"},"::create::Reviewer::reviews":{url:d+"/Reviewers/:id/reviews",method:"POST"},"::createMany::Reviewer::reviews":{isArray:!0,url:d+"/Reviewers/:id/reviews",method:"POST"},"::delete::Reviewer::reviews":{url:d+"/Reviewers/:id/reviews",method:"DELETE"},"::count::Reviewer::reviews":{url:d+"/Reviewers/:id/reviews/count",method:"GET"}});return e.patchOrCreate=e.upsert,e.updateOrCreate=e.upsert,e.patchOrCreateWithWhere=e.upsertWithWhere,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.patchAttributes=e.prototype$updateAttributes,e.modelName="Review",e.coffeeShop=function(){var a=c.get("CoffeeShop"),b=a["::get::Review::coffeeShop"];return b.apply(e,arguments)},e.reviewer=function(){var a=c.get("Reviewer"),b=a["::get::Review::reviewer"];return b.apply(e,arguments)},e}]),h.factory("Issue",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/Issues/:id",{id:"@id"},{create:{url:d+"/Issues",method:"POST"},createMany:{isArray:!0,url:d+"/Issues",method:"POST"},upsert:{url:d+"/Issues",method:"PUT"},replaceOrCreate:{url:d+"/Issues/replaceOrCreate",method:"POST"},upsertWithWhere:{url:d+"/Issues/upsertWithWhere",method:"POST"},exists:{url:d+"/Issues/:id/exists",method:"GET"},findById:{url:d+"/Issues/:id",method:"GET"},replaceById:{url:d+"/Issues/:id/replace",method:"POST"},find:{isArray:!0,url:d+"/Issues",method:"GET"},findOne:{url:d+"/Issues/findOne",method:"GET"},updateAll:{url:d+"/Issues/update",method:"POST"},deleteById:{url:d+"/Issues/:id",method:"DELETE"},count:{url:d+"/Issues/count",method:"GET"},prototype$updateAttributes:{url:d+"/Issues/:id",method:"PUT"},createChangeStream:{url:d+"/Issues/change-stream",method:"POST"},resolve_issue:{url:d+"/Issues/resolve_issue",method:"POST"}});return e.patchOrCreate=e.upsert,e.updateOrCreate=e.upsert,e.patchOrCreateWithWhere=e.upsertWithWhere,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.patchAttributes=e.prototype$updateAttributes,e.modelName="Issue",e}]),h.factory("Reviewer",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/Reviewers/:id",{id:"@id"},{prototype$__findById__accessTokens:{params:{fk:"@fk"},url:d+"/Reviewers/:id/accessTokens/:fk",method:"GET"},prototype$__destroyById__accessTokens:{params:{fk:"@fk"},url:d+"/Reviewers/:id/accessTokens/:fk",method:"DELETE"},prototype$__updateById__accessTokens:{params:{fk:"@fk"},url:d+"/Reviewers/:id/accessTokens/:fk",method:"PUT"},prototype$__findById__reviews:{params:{fk:"@fk"},url:d+"/Reviewers/:id/reviews/:fk",method:"GET"},prototype$__destroyById__reviews:{params:{fk:"@fk"},url:d+"/Reviewers/:id/reviews/:fk",method:"DELETE"},prototype$__updateById__reviews:{params:{fk:"@fk"},url:d+"/Reviewers/:id/reviews/:fk",method:"PUT"},prototype$__get__accessTokens:{isArray:!0,url:d+"/Reviewers/:id/accessTokens",method:"GET"},prototype$__create__accessTokens:{url:d+"/Reviewers/:id/accessTokens",method:"POST"},prototype$__delete__accessTokens:{url:d+"/Reviewers/:id/accessTokens",method:"DELETE"},prototype$__count__accessTokens:{url:d+"/Reviewers/:id/accessTokens/count",method:"GET"},prototype$__get__reviews:{isArray:!0,url:d+"/Reviewers/:id/reviews",method:"GET"},prototype$__create__reviews:{url:d+"/Reviewers/:id/reviews",method:"POST"},prototype$__delete__reviews:{url:d+"/Reviewers/:id/reviews",method:"DELETE"},prototype$__count__reviews:{url:d+"/Reviewers/:id/reviews/count",method:"GET"},create:{url:d+"/Reviewers",method:"POST"},createMany:{isArray:!0,url:d+"/Reviewers",method:"POST"},upsert:{url:d+"/Reviewers",method:"PUT"},replaceOrCreate:{url:d+"/Reviewers/replaceOrCreate",method:"POST"},upsertWithWhere:{url:d+"/Reviewers/upsertWithWhere",method:"POST"},exists:{url:d+"/Reviewers/:id/exists",method:"GET"},findById:{url:d+"/Reviewers/:id",method:"GET"},replaceById:{url:d+"/Reviewers/:id/replace",method:"POST"},find:{isArray:!0,url:d+"/Reviewers",method:"GET"},findOne:{url:d+"/Reviewers/findOne",method:"GET"},updateAll:{url:d+"/Reviewers/update",method:"POST"},deleteById:{url:d+"/Reviewers/:id",method:"DELETE"},count:{url:d+"/Reviewers/count",method:"GET"},prototype$updateAttributes:{url:d+"/Reviewers/:id",method:"PUT"},createChangeStream:{url:d+"/Reviewers/change-stream",method:"POST"},login:{params:{include:"user"},interceptor:{response:function(a){var c=a.data;return b.setUser(c.id,c.userId,c.user),b.rememberMe=a.config.params.rememberMe!==!1,b.save(),a.resource}},url:d+"/Reviewers/login",method:"POST"},logout:{interceptor:{response:function(a){return b.clearUser(),b.clearStorage(),a.resource},responseError:function(a){return b.clearUser(),b.clearStorage(),a.resource}},url:d+"/Reviewers/logout",method:"POST"},confirm:{url:d+"/Reviewers/confirm",method:"GET"},resetPassword:{url:d+"/Reviewers/reset",method:"POST"},"::findById::CoffeeShop::reviewers":{params:{fk:"@fk"},url:d+"/CoffeeShops/:id/reviewers/:fk",method:"GET"},"::destroyById::CoffeeShop::reviewers":{params:{fk:"@fk"},url:d+"/CoffeeShops/:id/reviewers/:fk",method:"DELETE"},"::updateById::CoffeeShop::reviewers":{params:{fk:"@fk"},url:d+"/CoffeeShops/:id/reviewers/:fk",method:"PUT"},"::get::CoffeeShop::reviewers":{isArray:!0,url:d+"/CoffeeShops/:id/reviewers",method:"GET"},"::create::CoffeeShop::reviewers":{url:d+"/CoffeeShops/:id/reviewers",method:"POST"},"::createMany::CoffeeShop::reviewers":{isArray:!0,url:d+"/CoffeeShops/:id/reviewers",method:"POST"},"::delete::CoffeeShop::reviewers":{url:d+"/CoffeeShops/:id/reviewers",method:"DELETE"},"::count::CoffeeShop::reviewers":{url:d+"/CoffeeShops/:id/reviewers/count",method:"GET"},"::get::Review::reviewer":{url:d+"/Reviews/:id/reviewer",method:"GET"},getCurrent:{url:d+"/Reviewers/:id",method:"GET",params:{id:function(){var a=b.currentUserId;return null==a&&(a="__anonymous__"),a}},interceptor:{response:function(a){return b.currentUserData=a.data,a.resource}},__isGetCurrentUser__:!0}});return e.patchOrCreate=e.upsert,e.updateOrCreate=e.upsert,e.patchOrCreateWithWhere=e.upsertWithWhere,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.patchAttributes=e.prototype$updateAttributes,e.getCachedCurrent=function(){var a=b.currentUserData;return a?new e(a):null},e.isAuthenticated=function(){return null!=this.getCurrentId()},e.getCurrentId=function(){return b.currentUserId},e.modelName="Reviewer",e.reviews=function(){var a=c.get("Review"),b=a["::get::Reviewer::reviews"];return b.apply(e,arguments)},e.reviews.count=function(){var a=c.get("Review"),b=a["::count::Reviewer::reviews"];return b.apply(e,arguments)},e.reviews.create=function(){var a=c.get("Review"),b=a["::create::Reviewer::reviews"];return b.apply(e,arguments)},e.reviews.createMany=function(){var a=c.get("Review"),b=a["::createMany::Reviewer::reviews"];return b.apply(e,arguments)},e.reviews.destroyAll=function(){var a=c.get("Review"),b=a["::delete::Reviewer::reviews"];return b.apply(e,arguments)},e.reviews.destroyById=function(){var a=c.get("Review"),b=a["::destroyById::Reviewer::reviews"];return b.apply(e,arguments)},e.reviews.findById=function(){var a=c.get("Review"),b=a["::findById::Reviewer::reviews"];return b.apply(e,arguments)},e.reviews.updateById=function(){var a=c.get("Review"),b=a["::updateById::Reviewer::reviews"];return b.apply(e,arguments)},e}]),h.factory("Basemap",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/Basemaps/:id",{id:"@id"},{prototype$__get__user:{url:d+"/Basemaps/:id/user",method:"GET"},create:{url:d+"/Basemaps",method:"POST"},createMany:{isArray:!0,url:d+"/Basemaps",method:"POST"},upsert:{url:d+"/Basemaps",method:"PUT"},replaceOrCreate:{url:d+"/Basemaps/replaceOrCreate",method:"POST"},upsertWithWhere:{url:d+"/Basemaps/upsertWithWhere",method:"POST"},exists:{url:d+"/Basemaps/:id/exists",method:"GET"},findById:{url:d+"/Basemaps/:id",method:"GET"},replaceById:{url:d+"/Basemaps/:id/replace",method:"POST"},find:{isArray:!0,url:d+"/Basemaps",method:"GET"},findOne:{url:d+"/Basemaps/findOne",method:"GET"},updateAll:{url:d+"/Basemaps/update",method:"POST"},deleteById:{url:d+"/Basemaps/:id",method:"DELETE"},count:{url:d+"/Basemaps/count",method:"GET"},prototype$updateAttributes:{url:d+"/Basemaps/:id",method:"PUT"},createChangeStream:{url:d+"/Basemaps/change-stream",method:"POST"},"::findById::User::basemaps":{params:{fk:"@fk"},url:d+"/users/:id/basemaps/:fk",method:"GET"},"::destroyById::User::basemaps":{params:{fk:"@fk"},url:d+"/users/:id/basemaps/:fk",method:"DELETE"},"::updateById::User::basemaps":{params:{fk:"@fk"},url:d+"/users/:id/basemaps/:fk",method:"PUT"},"::get::User::basemaps":{isArray:!0,url:d+"/users/:id/basemaps",method:"GET"},"::create::User::basemaps":{url:d+"/users/:id/basemaps",method:"POST"},"::createMany::User::basemaps":{isArray:!0,url:d+"/users/:id/basemaps",method:"POST"},"::delete::User::basemaps":{url:d+"/users/:id/basemaps",method:"DELETE"},"::count::User::basemaps":{url:d+"/users/:id/basemaps/count",method:"GET"}});return e.patchOrCreate=e.upsert,e.updateOrCreate=e.upsert,e.patchOrCreateWithWhere=e.upsertWithWhere,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.patchAttributes=e.prototype$updateAttributes,e.modelName="Basemap",e.user=function(){var a=c.get("User"),b=a["::get::Basemap::user"];return b.apply(e,arguments)},e}]),h.factory("Email",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/Emails/:id",{id:"@id"},{});return e.modelName="Email",e}]),h.factory("LoopBackAuth",function(){function c(){var b=this;a.forEach(function(a){b[a]=e(a)}),this.currentUserData=null}function d(a,c,d){try{var e=b+c;null==d&&(d=""),a[e]=d}catch(a){console.log("Cannot access local/session storage:",a)}}function e(a){var c=b+a;return localStorage[c]||sessionStorage[c]||null}var a=["accessTokenId","currentUserId","rememberMe"],b="$LoopBack$";return c.prototype.save=function(){var b=this,c=this.rememberMe?localStorage:sessionStorage;a.forEach(function(a){d(c,a,b[a])})},c.prototype.setUser=function(a,b,c){this.accessTokenId=a,this.currentUserId=b,this.currentUserData=c},c.prototype.clearUser=function(){this.accessTokenId=null,this.currentUserId=null,this.currentUserData=null},c.prototype.clearStorage=function(){a.forEach(function(a){d(sessionStorage,a,null),d(localStorage,a,null)})},new c}).config(["$httpProvider",function(a){a.interceptors.push("LoopBackAuthRequestInterceptor")}]).factory("LoopBackAuthRequestInterceptor",["$q","LoopBackAuth",function(a,b){return{request:function(d){var h=f(d.url);if(h&&h!==g)return d;if(b.accessTokenId)d.headers[e]=b.accessTokenId;else if(d.__isGetCurrentUser__){var i={body:{error:{status:401}},status:401,config:d,headers:function(){return c}};return a.reject(i)}return d||a.when(d)}}}]).provider("LoopBackResource",function(){this.setAuthHeader=function(a){e=a},this.getAuthHeader=function(){return e},this.setUrlBase=function(a){d=a,g=f(d)||location.host},this.getUrlBase=function(){return d},this.$get=["$resource",function(a){var b=function(b,c,d){var e=a(b,c,d);return e.prototype.$save=function(a,b){var c=e.upsert.call(this,{},this,a,b);return c.$promise||c},e};return b.getUrlBase=function(){return d},b.getAuthHeader=function(){return e},b}]})}(window,window.angular);
